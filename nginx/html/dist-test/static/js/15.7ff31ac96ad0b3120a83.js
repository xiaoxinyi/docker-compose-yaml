webpackJsonp([15],{1112:function(t,e,n){var a=n(1113);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(589)("7c84140e",a,!1,{})},1113:function(t,e,n){(t.exports=n(588)()).push([t.i,"\n.updateMyExcel-background {\n    background-color: white;\n}\n.updateMyExcel-background-title {\n    width: 100%;\n    height: 50px;\n    border-bottom: 0.5px solid #DEE1E2;\n}\n.updateMyExcel-form-data-list-button.selected {\n    background-color: #187CE5;\n    border-radius: 4px;\n    color: #fff;\n}\np.updateMyExcel-form-data-list-button {\n    padding: 4px;\n    cursor: pointer;\n}\n.updateMyExcel-background-title-p {\n    width: 100%;\n    height: 100%;\n    line-height: 50px;\n    font-size: 16px;\n    padding-left: 30px;\n}\n.position-relative {\n    position: relative;\n    margin-right: 18px;\n    margin-bottom: 18px;\n    min-width: 88px;\n    height: 35px;\n    float: left;\n}\n.deletelabel {\n    position: absolute;\n    top: -6px;\n    right: -6px;\n    display: inline-block;\n    background: url("+n(794)+") center center no-repeat;\n    width: 14px;\n    height: 14px;\n    z-index: 999;\n    cursor: pointer;\n    background-size: cover;\n}\n.updateMyExcel-form-search-content {\n    overflow: hidden;\n    position: relative;\n}\n.updateMyExcel-form-search-content .ivu-icon.ivu-icon-ios-close-outline {\n    position: absolute;\n    top: 11px;\n    right: 36px;\n    font-size: 12px;\n    color: #c4cbd5;\n    cursor: pointer;\n}\n.updateMyExcel-form .ivu-btn.selected {\n    position: relative;\n    font-size: 14px;\n    text-align: left;\n    color: #4A4A4A;\n    cursor: default;\n}\n.updateMyExcel-form .ivu-btn.selected:before {\n    content: url("+n(781)+");\n    display: inline-block;\n    width: 6px;\n    height: 6px;\n    background: right center no-repeat;\n    background-size: 6px;\n    position: absolute;\n    top: 7px;\n    opacity: 1;\n}\n.i-want-Fetch-form-title {\n    display: inline-block;\n    width: 93px;\n    min-height: 40px;\n    line-height: 40px;\n    text-align: left;\n    margin: 0 !important;\n    font-size: 14px;\n    font-weight: regular;\n}\n.updateMyExcel-form .ivu-btn.select {\n    position: relative;\n    font-size: 14px;\n    text-align: left;\n}\n.updateMyExcel-form .ivu-btn.select:before {\n    content: url("+n(876)+");\n    display: inline-block;\n    width: 6px;\n    height: 6px;\n    background: right center no-repeat;\n    background-size: 6px;\n    position: absolute;\n    top: 7px;\n}\n.updateMyExcel-form {\n    height: 100%;\n    padding: 40px 30px;\n}\n.updateMyExcel-form-title {\n    display: inline-block;\n    width: 93px;\n    min-height: 40px;\n    line-height: 40px;\n    text-align: left;\n    font-size: 14px;\n    font-weight: regular;\n}\n.updateMyExcel-form-updateto {\n    width: 60px;\n}\n.updateMyExcel-Checkbox-group {\n    width: 50%;\n    float: left;\n    padding-left: 4px;\n}\n.updateMyExcel-form-search {\n    float: right;\n    margin-right: 30px;\n}\n.updateMyExcel-form-list {\n    min-height: 200px;\n    margin-top: 1%;\n    margin-left: 98px;\n    border: 0.5px solid #DEE1E2;\n    padding-top: 25px;\n    padding-left: 30px;\n    margin-right: 30px;\n}\n.updateMyExcel-form-list-buttongroup {\n    overflow: hidden;\n    margin-top: 3%;\n    height: 100%;\n}\n.updateMyExcel-form-data-list-button {\n    text-align: center;\n    margin: 0px 3%;\n    float: left;\n    cursor: pointer;\n}\n.i-want-Checkbox-group {\n    width: 50%;\n    float: left;\n    padding-left: 4px;\n}\n.disable {\n    color: #9B9B9B;\n}\n.page-position {\n    position: relative;\n}\n.updateMyExcel-form-data-list-page {\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n}\n.updateMyExcel-form-list-selected-title {\n    margin-left: 98px;\n}\n.updateMyExcel-form-list-selected-title p {\n    width: 100%;\n    height: 60px;\n    line-height: 60px;\n    text-align: left;\n}\n.updateMyExcel-form-list-selected-title .choosed-num {\n    color: #5295C7;\n    font-size: 20px;\n}\n.updateMyExcel-form-list-selected-data {\n    margin-left: 98px;\n    padding-top: 6px;\n    overflow: hidden;\n}\n.updateMyExcel-form-list-buttongroup-commit {\n    float: left;\n    margin-left: 98px;\n}\n.updateMyExcel-form-list-buttongroup-reset {\n    float: left;\n    margin-left: 3%;\n}\n\n/*提示弹窗*/\n.ivu-modal-confirm-body-icon.ivu-modal-confirm-body-icon-info {\n    top: -5px;\n}\n.ivu-modal-content .ivu-modal-body {\n    padding: 30px;\n}\n",""])},1114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(305),c=n.n(a),s=n(306),i=n.n(s),r=n(814),o=n.n(r),l=n(824),u=n.n(l),p=n(789),d=n.n(p),h=n(307);e.default={data:function(){return{targetType:["1","2"],createReport:{},updateReportTitle:"",updateReportContent:"",initTarget:!0,allReportTarget:[],allTargetButton:[],allTargetLabel:[],allTargetInput:[],updateReports:{},selectedNum:0,searchInput:!0,selectedday:!1,selectedweek:!1,selectedmonth:!1,indicators:"",dateList:[{value:"1",label:"最近1天"},{value:"7",label:"最近7天"},{value:"30",label:"最近30天"}],value:"",single:"",selectvalue:"",startDate:"",endDate:"",cycle:"day",targets:[]}},components:{previewExcel:o.a,completeExcelInfo:u.a,selfServieNavi:d.a},mounted:function(){this.$route.params.reportId&&(window.sessionStorage.setItem("lastDays",this.$route.params.lastDays.toString()),window.sessionStorage.setItem("reportId",this.$route.params.reportId),window.sessionStorage.setItem("reportName",this.$route.params.reportName),window.sessionStorage.setItem("cycle",this.$route.params.cycle),window.sessionStorage.setItem("targets",this.$route.params.targets)),this.value=window.sessionStorage.reportName,this.initPort(),this.selectvalue=window.sessionStorage.lastDays,"day"===window.sessionStorage.cycle?this.selectedday=!0:this.selectedmonth=!0},methods:{instance:function(t){var e=this.updateReportTitle,n=this.updateReportContent;switch(t){case"info":this.$Modal.info({title:e,content:n});break;case"success":this.$Modal.success({title:e,content:n});break;case"warning":this.$Modal.warning({title:e,content:n})}},handleChange:function(){"1"===this.selectvalue&&(this.dateType="1"),"7"===this.selectvalue&&(this.dateType="7"),"30"===this.selectvalue&&(this.dateType="30")},selectTargetType:function(t){this.initPort()},judgeSelectedTarget:function(){for(var t=0;t<this.allTargetLabel.length;t++){for(var e=0,n=0,a=0;a<this.allTargetButton.length;a++)this.allTargetButton[a].target_name===this.allTargetLabel[t].username&&(e+=1,n=a);0!==e&&(this.allTargetButton[n].buttonshow=!0)}},initPort:function(){var l=this;return i()(c.a.mark(function t(){var e,n,a,s,i,r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.i(l.targetType);case 2:if(e=t.sent){for(l.allTargetButton=[],l.allReportTarget=e.data,l.searchInput=!0,n=0;n<l.allReportTarget.length;n++)a={target_name:l.allReportTarget[n].target_name,target_str:l.allReportTarget[n].target_str,mouseover:!1,buttonshow:!1},l.allTargetButton.push(a);if(l.judgeSelectedTarget(),window.sessionStorage.targets&&l.initTarget)for(l.initTarget=!1,s=window.sessionStorage.targets.split(","),i=0;i<s.length;i++)for(r=0;r<l.allTargetButton.length;r++)l.allTargetButton[r].target_str===s[i]&&(l.allTargetButton[r].buttonshow=!0,o={username:l.allTargetButton[r].target_name,clearLabel:!0,usernameEng:l.allTargetButton[r].target_str},l.allTargetLabel.push(o),l.selectedNum=l.selectedNum+1,l.targets.push(l.allTargetButton[r].target_str))}case 4:case"end":return t.stop()}},t,l)}))()},finishUpdateReport:function(){var n=this;return i()(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0<n.value.length)){t.next=7;break}return t.next=3,h._61(n.targets,n.value,"0",n.cycle,n.dateType,window.sessionStorage.reportId);case 3:(e=t.sent)&&(n.updateReports=e.data,n.$router.push({name:"myExcel",params:{update:e.data.update_time}}),n.updateReportTitle="修改成功",n.updateReportContent="你对报表名称为《"+n.updateReports.report_name+"》的报表修改成功"),t.next=10;break;case 7:n.updateReportTitle="错误提示",n.updateReportContent="没有填写报表名称，请填写报表名称后再次提交",n.instance("warning");case 10:n.instance("info");case 11:case"end":return t.stop()}},t,n)}))()},reset:function(){for(var t in this.value=window.sessionStorage.reportName,this.selectedNum=0,this.indicators="",this.searchInput=!0,"day"===window.sessionStorage.cycle?(this.selectedday=!0,this.selectedmonth=!1):(this.selectedmonth=!0,this.selectedday=!1),this.selectvalue=window.sessionStorage.lastDays,this.allTargetLabel=[],this.allTargetButton)this.allTargetButton[t].buttonshow=!1;if(window.sessionStorage.targets)for(var e=window.sessionStorage.targets.split(","),n=0;n<e.length;n++)for(var a=0;a<this.allTargetButton.length;a++)if(this.allTargetButton[a].target_str===e[n]){this.allTargetButton[a].buttonshow=!1;this.allTargetButton[a].target_name,this.allTargetButton[a].target_str;this.allTargetLabel=[],this.targets=[]}},inputKeyUp:function(){this.allTargetInput=[];for(var t=0;t<this.allTargetButton.length;t++)if(-1!==this.allTargetButton[t].target_name.indexOf(this.indicators)){var e={target_name:this.allTargetButton[t].target_name,target_str:this.allTargetButton[t].target_str,mouseover:!1,buttonshow:this.allTargetButton[t].buttonshow};this.allTargetInput.push(e)}0<this.indicators.length&&(this.searchInput=!1)},clearinput:function(){this.indicators="",this.searchInput=!0,this.allTargetInput=[]},dataselected:function(t){"day"===t?(this.selectedday=!this.selectedday,this.selectedweek=!1,this.selectedmonth=!1,this.cycle="day"):"month"===t&&(this.selectedmonth=!this.selectedmonth,this.selectedweek=!1,this.selectedday=!1,this.cycle="month")},selectLabel:function(t){if(this.searchInput){if(!this.allTargetButton[t].buttonshow){this.allTargetButton[t].buttonshow=!0,this.allTargetInput=this.allTargetButton;var e={username:this.allTargetButton[t].target_name,clearLabel:!0,usernameEng:this.allTargetButton[t].target_str};this.allTargetLabel.push(e),this.selectedNum=this.selectedNum+1,this.targets.push(this.allTargetButton[t].target_str)}}else if(!this.allTargetInput[t].buttonshow){this.allTargetInput[t].buttonshow=!0;for(var n=0;n<this.allTargetButton.length;n++)this.allTargetInput[t].target_name===this.allTargetButton[n].target_name&&(this.allTargetButton[n].buttonshow=!0);var a={username:this.allTargetInput[t].target_name,clearLabel:!0,usernameEng:this.allTargetInput[t].target_str};this.allTargetLabel.push(a),this.selectedNum=this.selectedNum+1,this.targets.push(this.allTargetInput[t].target_str)}},deleteLabelClear:function(t){if(this.allTargetLabel[t].clearLabel=!1,this.searchInput)for(var e=0;e<this.allTargetButton.length;e++)this.allTargetLabel[t].username===this.allTargetButton[e].target_name&&(this.allTargetButton[e].buttonshow=!1,this.selectedNum=this.selectedNum-1);else for(var n=0;n<this.allTargetInput.length;n++)if(this.allTargetLabel[t].username===this.allTargetInput[n].target_name){for(var a=0;a<this.allTargetButton.length;a++)this.allTargetLabel[t].username===this.allTargetButton[a].target_name&&(this.allTargetButton[a].buttonshow=!1);this.allTargetInput[n].buttonshow=!1,this.selectedNum=this.selectedNum-1}for(var s=0;s<this.targets.length;s++)this.targets[s]===this.allTargetLabel[t].usernameEng&&this.targets.splice(s,1)},over:function(t){this.searchInput?this.allTargetButton[t].mouseover=!0:this.allTargetInput[t].mouseover=!0},out:function(t){this.searchInput?this.allTargetButton[t].mouseover=!1:this.allTargetInput[t].mouseover=!1}}}},1115:function(t,e,n){t.exports={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",[a("div",{staticClass:"updateMyExcel-background"},[n._m(0),n._v(" "),a("div",{staticClass:"updateMyExcel-form"},[a("div",[a("p",{staticClass:"updateMyExcel-form-title"},[n._v("报表名称：")]),n._v(" "),a("Input",{staticClass:"updateMyExcel-form-title",staticStyle:{width:"200px"},attrs:{maxlength:15,placeholder:"请输入..."},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}})],1),n._v(" "),n._m(1),n._v(" "),a("div",[a("p",{staticClass:"updateMyExcel-form-title"},[n._v("汇总周期：")]),n._v(" "),a("Button",{staticClass:"updateMyExcel-form-title",class:n.selectedday?"selected":"select",attrs:{type:"text"},on:{click:function(t){n.dataselected("day")}}},[n._v("自然天\n                ")])],1),n._v(" "),a("div",[a("p",{staticClass:"updateMyExcel-form-title updateMyExcel-form-updateto"},[n._v("更新至：")]),n._v(" "),a("Select",{staticStyle:{width:"200px"},on:{"on-change":n.handleChange},model:{value:n.selectvalue,callback:function(t){n.selectvalue=t},expression:"selectvalue"}},n._l(n.dateList,function(t,e){return a("Option",{key:e,attrs:{value:t.value}},[n._v(n._s(t.label)+"\n                    ")])}))],1),n._v(" "),a("div",{staticClass:"updateMyExcel-form-search-content"},[a("p",{staticClass:"updateMyExcel-form-title",staticStyle:{float:"left"}},[n._v("选择指标：")]),n._v(" "),a("Checkbox-group",{staticClass:"i-want-Checkbox-group",on:{"on-change":n.selectTargetType},model:{value:n.targetType,callback:function(t){n.targetType=t},expression:"targetType"}},[a("Checkbox",{staticClass:"i-want-Fetch-form-title",staticStyle:{"padding-left":"4px"},attrs:{label:"1"}},[n._v("人流")]),n._v(" "),a("Checkbox",{staticClass:"i-want-Fetch-form-title",attrs:{label:"2"}},[n._v("交易")])],1),n._v(" "),a("Input",{staticClass:"updateMyExcel-form-search",staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字搜索指标"},on:{"on-change":n.inputKeyUp},model:{value:n.indicators,callback:function(t){n.indicators=t},expression:"indicators"}}),n._v(" "),a("i",{staticClass:"ivu-icon ivu-icon-ios-close-outline",on:{click:n.clearinput}})],1),n._v(" "),a("div",{staticClass:"updateMyExcel-form-list page-position"},[a("Row",[n._l(n.allTargetButton,function(t,e){return n.searchInput?a("Col",{key:e,attrs:{span:"4"}},[a("p",{staticClass:"updateMyExcel-form-data-list-button",class:{selected:t.mouseover,disable:t.buttonshow},on:{click:function(t){n.selectLabel(e)},mouseover:function(t){n.over(e)},mouseout:function(t){n.out(e)}}},[n._v(n._s(t.target_name))])]):n._e()}),n._v(" "),n._l(n.allTargetInput,function(t,e){return n.searchInput?n._e():a("Col",{key:e,attrs:{span:"4"}},[a("p",{staticClass:"updateMyExcel-form-data-list-button",class:{selected:t.mouseover,disable:t.buttonshow},on:{click:function(t){n.selectLabel(e)},mouseover:function(t){n.over(e)},mouseout:function(t){n.out(e)}}},[n._v(n._s(t.target_name))])])})],2),n._v(" "),a("div",{staticClass:"updateMyExcel-form-data-list-page"},[a("Page",{attrs:{total:1,size:"small"}})],1)],1),n._v(" "),a("div",{staticClass:"updateMyExcel-form-list-selected-title"},[a("p",[n._v("已选择"),a("span",{staticClass:"choosed-num"},[n._v(n._s(n.selectedNum))]),n._v("个")])]),n._v(" "),a("div",{staticClass:"updateMyExcel-form-list-selected-data"},n._l(n.allTargetLabel,function(t,e){return t.clearLabel?a("div",{key:e,staticClass:"position-relative"},[a("Button",{staticStyle:{width:"100%",padding:"6px 8px"},attrs:{type:"dashed"}},[n._v(n._s(t.username))]),n._v(" "),a("i",{staticClass:"deletelabel",on:{click:function(t){n.deleteLabelClear(e)}}})],1):n._e()})),n._v(" "),a("div",{staticClass:"updateMyExcel-form-list-buttongroup"},[a("Button",{staticClass:"updateMyExcel-form-list-buttongroup-commit",attrs:{type:"primary"},on:{click:n.finishUpdateReport}},[n._v("完成\n                ")]),n._v(" "),a("Button",{staticClass:"updateMyExcel-form-list-buttongroup-reset",attrs:{type:"ghost"},on:{click:n.reset}},[n._v("重置")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"updateMyExcel-background-title"},[e("p",{staticClass:"updateMyExcel-background-title-p PingFangSC-Medium-font"},[this._v("修改报表")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"updateMyExcel-form-title"},[t._v("分析维度：")]),t._v(" "),n("p",{staticClass:"updateMyExcel-form-title"},[t._v("店铺")])])}]},t.exports.render._withStripped=!0},1373:function(t,e,n){var a=!1;var s=n(304)(n(1114),n(1115),function(t){a||n(1112)},null,null);s.options.__file="/Users/zhouqichao/Desktop/sxkj/shangu_online/src/components/views/selfServiceFetch/children/updateMyExcel.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] updateMyExcel.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},781:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAE1JREFUCB1j1F71n+3N3bdN/xj+xzEAARMD4yIRZeE6FqhgOUgQBIAKyoFiDEwwlRBhCAkSY0IWQGYzgcxEFgCxQWIsIItAZsKMhFkOAOdQIQbJH0Z/AAAAAElFTkSuQmCC"},789:function(t,e,n){var a=!1;var s=n(304)(n(792),n(793),function(t){a||n(790)},null,null);s.options.__file="/Users/zhouqichao/Desktop/sxkj/shangu_online/src/components/views/selfServiceFetch/children/selfServiceFetchNavi.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] selfServiceFetchNavi.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},790:function(t,e,n){var a=n(791);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(589)("69005afe",a,!1,{})},791:function(t,e,n){(t.exports=n(588)()).push([t.i,"\n.businessNavi-background {\n    background-color: white;\n    margin-right: 20px;\n}\n.vue-menu-light {\n    background-image: none;\n    background-color: red;\n}\n.left-list-background {\n    width: 100%;\n    height: 100%;\n}\n.ivu-menu-light .ivu-menu-item.nav-Analyze {\n    padding: 0;\n    height: 60px;\n    line-height: 60px;\n    text-align: left;\n    padding-left: 33px;\n    border-right: 0 !important;\n}\n.selfServieNavi .ivu-menu-item-selected {\n    position: relative;\n    color: #2488DC;\n}\n.selfServieNavi .ivu-menu-item-selected:before {\n    content: url("+n(781)+");\n    display: inline-block;\n    width: 6px;\n    height: 100%;\n    background: right center no-repeat;\n    background-size: 6px;\n    position: absolute;\n    top: -2px;\n    left: 10%;\n}\n.ivu-menu-vertical.ivu-menu-light:after {\n    width: 0;\n}\n.selfServieNavi .ivu-menu-vertical .ivu-menu-submenu-title {\n    padding: 14px 32px;\n}\n.selfServieNavi .ivu-menu-vertical .ivu-menu-submenu .ivu-menu-item {\n    padding-left: 40px;\n}\n",""])},792:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(121);e.default={data:function(){return{activeMenu:a.a.getRouteName(this.$route.path,2),selected:!1}},methods:{handleSelect:function(t){"myExcel"===t?this.$router.push("/selfServiceFetch/myExcel"):this.$router.push("/selfServiceFetch")}}}},793:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selfServieNavi"},[n("div",{staticClass:"left-list-background"},[n("Menu",{attrs:{width:"100%","active-name":""==t.activeMenu?"selfServiceFetch":t.activeMenu},on:{"on-select":t.handleSelect}},[n("Menu-item",{staticClass:"nav-Analyze",attrs:{name:"selfServiceFetch"}},[t._v("\n                我要取数\n            ")]),t._v(" "),n("Menu-item",{staticClass:"nav-Analyze",attrs:{name:"myExcel",id:"myReport"}},[t._v("\n                我的报表\n            ")])],1)],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},794:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAtNJREFUSA29lr9rU1EUx895SWMRBYuKUCcRtIODLa10KV1URBwEBcHBoeo/4OwiKDgpCOJgm8HBQRR00EUXyVCxsTpJUxAXm05FwcFi2xzP96Yn3neT9/JeLF4I98c79/vJub/OYcpQRqdleIMaZ5l5QoT265TBzWl1ZloSkUqBoufVK/yxmxynGYyW5XxD5KYKHk6zs2/6h2oR8/XqFD+1sbDuCDz2SA6s/5bHQjIeTsjSZ+J3xRJffH+Jv4b2bcCxskxuiDxTr3aHxnn66u1Kgfnc3BS/9efFgA7WkNfqWZ9v1GtbPV0rRHzCh7aAbhnXZO5fPRvoJ/q1TrSqPxR4WuzjMVveqDlM5PbMW8Z7J5nKZ5h2qUDWMq7n9+UFpgenWn4QHIC2aTggTmN4QHaUiI7uY3p4OhsUsLvHmfqLTNVlk2/W0AYDPQfE0Y+bEF17I/Tlu9DBge5Qg21T2JPPQvc/SChHxuDNSz3fZqEDWE54CCjgV18J/ViNW4aw27PtMJuhj8NIhBfEBsIa4oAkeZoHBm2w9GHgiRDk95OgeWHQBIuHpxs1IjnkQzq1/eWt/xTas52oVGjuWdoyxrV4EYfGHuL4t6BnngI2uJMd7MWiUHaYExxs3cNAv2N3SB87eGblyN7mwbJ+t1ojiwBY72aI77ZnWEZ4lnSQ0rQ0tC3roaGlNCMfZvfsRqV5RfJCwYr06amkAc0zg9me2Z7mgYIVIVInAZNgZp8XCpZ7ZUdmGgtKj0X1bjCDovavDDzu9CLpHazNX46G3ClFWuALIMTc0Yc4XEbfxm+Hnt6a/BstzM4YDogcBGmBfUQ8q60QzXzKfs8MOvtNaEHn+gXalue0/spWBWAfhHZiAEZERg6CtCCc1GvfpRiqadEeOrGXBrkHchD8q14hNg8aYT7TBsQAoMhB/D01kaw15kLDT55sbmsPbcCv/1si7EPR3spU/w+eXYFn9MGe/wAAAABJRU5ErkJggg=="},814:function(t,e,n){var a=!1;var s=n(304)(n(817),n(823),function(t){a||n(815)},null,null);s.options.__file="/Users/zhouqichao/Desktop/sxkj/shangu_online/src/components/views/selfServiceFetch/children/children/previewExcel.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] previewExcel.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},815:function(t,e,n){var a=n(816);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(589)("9bd315f4",a,!1,{})},816:function(t,e,n){(t.exports=n(588)()).push([t.i,"\n.statistical-data p {\n    height: 35px;\n    line-height: 35px;\n    text-align: left;\n    margin-right: 0;\n}\n.statistical-data p.statisticalDate {\n    height: 35px;\n    line-height: 35px;\n}\n.excel-footer p {\n    height: 40px;\n    line-height: 40px;\n    text-align: left;\n}\n.excel-footer span.excel-data-num {\n    font-size: 18px;\n    color: #7DB1E1;\n}\n.i-want-Fetch-form-list-buttongroup .preview-data.ivu-btn.ivu-btn-primary {\n    background-color: #0098CA;\n    border-color: #0098CA;\n}\n.vertical-center-modal {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.vertical-center-modal .ivu-modal {\n    top: 0;\n}\n",""])},817:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(305),u=n.n(a),s=n(306),i=n.n(s),p=n(82),r=n(818),o=n.n(r),d=n(307);e.default={data:function(){return{isDisabled:!1,showPreviewExcelModal:!1,downloadUrl:"",previewReports:{},previewDateList:[],exitsId:!1,targets:"",startTime:"",endTime:"",startTimeStamp:"",endTimeStamp:"",cycle:"",dataNum:0,ifcreateReport:!1}},props:["createReport","reportId"],components:{excel:o.a},mounted:function(){0<this.createReport.length&&(this.exitsId=!0)},methods:{downloadReport:function(t){this.download(t)},instance:function(){var t=this.addReportTitle,e=this.addReportContent;this.$Modal.info({title:t,content:e})},download:function(l){var c=this;return i()(u.a.mark(function t(){var e,n,a,s,i,r,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.requireData(l),t.next=3,d.H(c.targets,"0",c.startTime,c.endTime,c.cycle);case 3:(e=t.sent)&&(n=document.getElementById("alink"),a=new Blob([e],{type:"application/vnd.ms-excel"}),c.downloadUrl=window.URL.createObjectURL(a),n.setAttribute("href",c.downloadUrl),s=window.sessionStorage.getItem("userName"),i=new Date,r=i.toLocaleDateString(),o=p.a.AppName+"-"+s+r+".xls",n.setAttribute("download",o),n.click());case 5:case"end":return t.stop()}},t,c)}))()},requireData:function(t){if(this.startTime=new Date((new Date).setHours(0,0,0,0)),this.endTime=new Date((new Date).setHours(23,59,59,999)),this.cycle=this.createReport.cycle,this.targets=[],this.exitsId){this.ifcreateReport=!0;for(var e=0;e<this.createReport.length;e++)this.createReport[e].id===t&&(this.endTime.setTime(this.endTime.getTime()-864e5),1===this.createReport[e].last_days&&this.startTime.setTime(this.startTime.getTime()-864e5),7===this.createReport[e].last_days&&this.startTime.setTime(this.startTime.getTime()-6048e5),30===this.createReport[e].last_days&&this.startTime.setTime(this.startTime.getTime()-2592e6),this.startTime=Number(Date.parse(this.startTime))/1e3,this.endTime=Number(Date.parse(this.endTime))/1e3,this.cycle=this.createReport[e].cycle,this.targets=this.createReport[e].targets.split(","))}else this.startTime=Number(Date.parse(this.createReport.startDate))/1e3,this.endTime=Number(Date.parse(this.createReport.endDate))/1e3,this.targets=this.createReport.targets,0<this.targets.length?this.ifcreateReport=!0:(this.ifcreateReport=!1,this.addReportTitle="错误提示",this.addReportContent="请先选择指标后再次预览",this.instance())},previewReport:function(){var s=this;return i()(u.a.mark(function t(){var e,n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.reportId,s.previewDateList=[],s.requireData(e),!s.ifcreateReport){t.next=9;break}return s.isDisabled=!0,t.next=7,d._42(s.targets,"0",s.startTime,s.endTime,s.cycle);case 7:if((n=t.sent)&&200===n.code)for(s.isDisabled=!1,s.showPreviewExcelModal=!0,s.dataNum=n.data.data_arr.length,s.previewReports=n.data,10<s.previewReports.data_arr.length&&s.showTenDayData(),a=0;a<s.previewReports.date_arr.length;a++)s.previewDateList.push(s.previewReports.date_arr[a].substring(0,4)+"-"+s.previewReports.date_arr[a].substring(4,6)+"-"+s.previewReports.date_arr[a].substring(6,8));else s.isDisabled=!1;case 9:case"end":return t.stop()}},t,s)}))()},showTenDayData:function(){for(var t=[],e=[],n=this.previewReports.data_arr.length,a=this.previewReports.data_arr.length-10,s=n-1;a<=s;s--)e.push(this.previewReports.data_arr[s]),t.push(this.previewReports.date_arr[s]);this.previewReports.data_arr=e,this.previewReports.date_arr=t}}}},818:function(t,e,n){var a=!1;var s=n(304)(n(821),n(822),function(t){a||n(819)},null,null);s.options.__file="/Users/zhouqichao/Desktop/sxkj/shangu_online/src/components/views/selfServiceFetch/children/children/excel.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] excel.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},819:function(t,e,n){var a=n(820);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(589)("69290063",a,!1,{})},820:function(t,e,n){(t.exports=n(588)()).push([t.i,"\n.ivu-table .demo-table-info-row td {\n    background-color: #E3F1FE;\n}\n.ivu-table.ivu-table-border td, .ivu-table.ivu-table-border th {\n    height: 35px;\n}\n",""])},821:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(83),s=n.n(a);e.default={data:function(){return{previewReport:{},columnsArr:[],dataArr:[]}},props:["previewReports"],mounted:function(){this.previewReport=JSON.parse(s()(this.previewReports));for(var t=0;t<this.previewReport.title.length;t++){var e={title:this.previewReports.title[t],key:this.previewReport.key[t],width:120};this.columnsArr.push(e)}for(var n=0;n<this.previewReport.data_arr.length;n++)this.dataArr.push(this.previewReport.data_arr[n])},methods:{rowClassName:function(t,e){if(e%2==0)return"demo-table-info-row"}}}},822:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{border:"","row-class-name":t.rowClassName,columns:t.columnsArr,data:t.dataArr}})],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},823:function(t,e,n){t.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.exitsId?n("Button",{staticClass:"preview-data",attrs:{type:"primary",disabled:e.isDisabled},on:{click:e.previewReport}},[e._v("预览数据")]):e._e(),e._v(" "),e.exitsId?e._e():n("Button",{staticClass:"preview-data",attrs:{type:"primary",disabled:e.isDisabled},on:{click:e.previewReport}},[e._v("预览数据")]),e._v(" "),n("Modal",{attrs:{title:"预览数据","mask-closable":!1,width:"945","class-name":"vertical-center-modal"},model:{value:e.showPreviewExcelModal,callback:function(t){e.showPreviewExcelModal=t},expression:"showPreviewExcelModal"}},[n("Row",[n("Col",{staticClass:"statistical-data",attrs:{span:"2"}},[n("p",[e._v("统计日期")]),e._v(" "),e._l(e.previewDateList,function(t){return n("p",{staticClass:"statisticalDate"},[e._v(e._s(t))])})],2),e._v(" "),e.showPreviewExcelModal?n("Col",{attrs:{span:"22"}},[n("excel",{attrs:{previewReports:e.previewReports}})],1):e._e()],1),e._v(" "),n("Row",{staticClass:"excel-footer",attrs:{slot:"footer"},slot:"footer"},[n("Col",{attrs:{span:"19"}},[n("p",[e._v("共"),n("span",{staticClass:"excel-data-num"},[e._v(e._s(e.dataNum))]),e._v("条数据,预览最多显示前10条数据,下载数据可以查看更多")])]),e._v(" "),n("Col",{attrs:{span:"5"}},[n("Button",{attrs:{size:"large"},on:{click:function(t){e.downloadReport(e.reportId)}}},[e._v("下载全部数据")]),e._v(" "),n("a",{attrs:{id:"alink"}})],1)],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},824:function(t,e,n){var a=!1;var s=n(304)(n(827),n(828),function(t){a||n(825)},null,null);s.options.__file="/Users/zhouqichao/Desktop/sxkj/shangu_online/src/components/views/selfServiceFetch/children/children/completeExcelInfo.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] completeExcelInfo.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},825:function(t,e,n){var a=n(826);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(589)("3616c51f",a,!1,{})},826:function(t,e,n){(t.exports=n(588)()).push([t.i,"\n.i-want-Fetch-form-content {\n    padding-bottom: 10px;\n}\n.reportAdd .i-want-Fetch-form-title {\n    display: inline-block;\n    width: 93px;\n    min-height: 40px;\n    line-height: 40px;\n    text-align: left;\n    margin: 0 !important;\n    font-size: 14px;\n}\n.i-want-Fetch-form-title.to {\n    width: 40px;\n    text-align: center;\n}\n.ivu-btn.ivu-btn-dashed span {\n    font-size: 14px;\n    font-weight: regular;\n}\n",""])},827:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(305),i=n.n(s),r=n(306),o=n.n(r),l=n(307);e.default={data:function(){return{userId:"",modal1:!1,indicators:"",createReports:{},addReportTitle:"",addReportContent:"",startDate:"",endDate:"",selectvalue:"1",dateType:"",dateList:[{value:"1",label:"最近1天"},{value:"7",label:"最近7天"},{value:"30",label:"最近30天"}]}},props:["createReport"],mounted:function(){},methods:{addMyReport:function(){this.createReport.targets.length<=0?(this.addReportTitle="错误提示",this.addReportContent="请先选择指标后再点击创建报表",this.instance()):this.modal1=!0},instance:function(){var t=this.addReportTitle,e=this.addReportContent;this.$Modal.info({title:t,content:e})},cancel:function(t){this.modal1=!1},handleChange:function(){"1"===this.selectvalue&&(this.dateType="1"),"7"===this.selectvalue&&(this.dateType="7"),"30"===this.selectvalue&&(this.dateType="30")},initCreateReport:(a=o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0<this.indicators.length)){t.next=7;break}return t.next=3,l.s(this.createReport.targets,this.indicators,"0",this.createReport.cycle,this.dateType);case 3:(e=t.sent).data?(this.addReportTitle="添加报表成功",this.addReportContent="你添加的报表名称为《"+e.data.report_name+"》的报表已成功添加",this.createReports=e.data,this.modal1=!1,this.$router.push({name:"myExcel",params:{update:e.data.update_time}})):(this.addReportTitle="错误信息",this.addReportContent=e.error_msg),t.next=9;break;case 7:this.addReportTitle="错误提示",this.addReportContent="报表名称不能为空，请先输入报表名称后再次添加";case 9:this.instance();case 10:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})}}},828:function(t,e,n){t.exports={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("Button",{attrs:{type:"primary"},on:{click:a.addMyReport}},[a._v("加入我的报表")]),a._v(" "),s("Modal",{attrs:{title:"完善报表信息","mask-closable":!1},model:{value:a.modal1,callback:function(t){a.modal1=t},expression:"modal1"}},[s("div",{staticClass:"i-want-Fetch-form reportAdd"},[s("div",{staticClass:"i-want-Fetch-form-content"},[s("p",{staticClass:"i-want-Fetch-form-title"},[a._v("报表名称：")]),a._v(" "),s("Input",{staticClass:"i-want-Fetch-form-title",staticStyle:{width:"200px"},attrs:{maxlength:15,placeholder:"请输入..."},model:{value:a.indicators,callback:function(t){a.indicators=t},expression:"indicators"}})],1),a._v(" "),s("div",{staticClass:"i-want-Fetch-form-content"},[s("p",{staticClass:"i-want-Fetch-form-title"},[a._v("分析维度：")]),a._v(" "),s("p",{staticClass:"i-want-Fetch-form-title"},[a._v(a._s(a.createReport.dimension))])]),a._v(" "),s("div",{staticClass:"i-want-Fetch-form-content"},[s("p",{staticClass:"i-want-Fetch-form-title"},[a._v("汇总周期：")]),a._v(" "),s("p",{staticClass:"i-want-Fetch-form-title"},[a._v(a._s(a.createReport.cycleTitle))])]),a._v(" "),s("div",{staticClass:"i-want-Fetch-form-content"},[s("p",{staticClass:"i-want-Fetch-form-title"},[a._v("更新至：")]),a._v(" "),s("Select",{staticStyle:{width:"200px"},on:{"on-change":a.handleChange},model:{value:a.selectvalue,callback:function(t){a.selectvalue=t},expression:"selectvalue"}},a._l(a.dateList,function(t,e){return s("Option",{key:e,attrs:{value:t.value}},[a._v(a._s(t.label)+"\n                    ")])}))],1),a._v(" "),s("div",{staticClass:"i-want-Fetch-form-content"},[s("p",{staticClass:"i-want-Fetch-form-title"},[a._v("查询指标：")]),a._v(" "),a._l(a.createReport.targetsTitle,function(t,e,n){return s("Button",{key:n,staticStyle:{margin:"0 10px 10px 0"},attrs:{type:"dashed"}},[a._v(a._s(t)+"\n                ")])})],2)]),a._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary"},on:{click:a.initCreateReport}},[s("span",[a._v("确定")])]),a._v(" "),s("Button",{staticStyle:{"margin-left":"8px","margin-right":"15px"},attrs:{type:"ghost"},on:{click:a.cancel}},[a._v("取消")])],1)]),a._v(" "),s("Modal")],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},876:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAE9JREFUCB1jvHr1P9uH79eb/jMwxDEAASMDwyIBTs06FrDg///lIEEQACooB4oxMMFUQoQhJEiMCVkAmc0EMhNZAMQGibGALAKZCTMSZjkAMk8d5c3whRcAAAAASUVORK5CYII="}});